```{r}
#| label: load_libraries

require(conflicted)
require(dso)
```

`read_params(..)` 
1.   sets the stage directory
2.   runs 'dso compile-config', which hierachically compiles config files (params.in.yaml and params.yaml) and 
3.   loads parameters defined in the file defining stage dependencies ('params' section in the 'dvc.yaml' file) from the compiled stage config file (params.yaml)

```{r}
#| label: read_params

params <- read_params("{{ stage_path }}")
```

Once `params <- read_params(..)` is executed, use 'reload(params)' to quickly rerun read_params and reload the params while developing


To locate your files relative to the stage path use `stage_here(..)`. This command uses the stage path set in read_params.

```{r}
#| label: obtain_files_relative_to_stage_dir

samplesheet <- readr::read_csv(stage_here(params$samplesheet))
```
